<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>2. Refining the Shortest Paths in-water • RSP</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="2. Refining the Shortest Paths in-water">
<meta property="og:description" content="RSP">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RSP</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/a-1_Preparing_the_data.html">1. Preparing the data</a>
    </li>
    <li>
      <a href="../articles/a-2_Refining_Shortest_paths.html">2. Refining the Shortest Paths in-water</a>
    </li>
    <li>
      <a href="../articles/a-3_dBBMM.html">3. Calculating utilization distribution</a>
    </li>
    <li>
      <a href="../articles/a-4_Overlaps.html">4. Calculating overlaps</a>
    </li>
    <li>
      <a href="../articles/a-5_Areas_in_steps.html">5. Calculating areas in steps</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/YuriNiella/RSP/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>2. Refining the Shortest Paths in-water</h1>
            <h3 data-toc-skip class="subtitle">Refining the Shortest
Paths (RSP) of animals tracked with acoustic transmitters in estuarine
regions</h3>
                        <h4 data-toc-skip class="author">Yuri Niella
&amp; Hugo Flávio</h4>
            
            <h4 data-toc-skip class="date">2023-12-07</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/YuriNiella/RSP/blob/HEAD/vignettes/a-2_Refining_Shortest_paths.Rmd" class="external-link"><code>vignettes/a-2_Refining_Shortest_paths.Rmd</code></a></small>
      <div class="hidden name"><code>a-2_Refining_Shortest_paths.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="index">Index<a class="anchor" aria-label="anchor" href="#index"></a>
</h2>
<ol style="list-style-type: decimal">
<li><a href="a-1_Preparing_the_data.html">Preparing the data</a></li>
<li><a href="a-2_Refining_Shortest_paths.html">Refining the Shortest
Paths in-water</a></li>
<li><a href="a-3_dBBMM.html">Calculating utilization
distribution</a></li>
<li><a href="a-4_Overlaps.html">Calculating overlaps</a></li>
<li><a href="a-5_Areas_in_steps.html">Calculating areas in
steps</a></li>
</ol>
<hr>
<p>The <code><a href="../reference/runRSP.html">runRSP()</a></code> function is used to recreate the shortest
paths between pairs of acoustic detections. By default, the analysis
will run for all transmitters detected, but you can determine also which
transmitters you would like to include using <code>tags</code>. The
detection data, station coordinates and the group of each tracked animal
is passed on to RSP automatically by actel through the argument
<code>input</code>. You must also include the name of the transition
layer you created using the argument <code>t.layer</code>, e.g.:</p>
<pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hugomflavio/actel" class="external-link">actel</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/YuriNiella/RSP" class="external-link">RSP</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">filtered_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/actel/man/explore.html" class="external-link">explore</a></span><span class="op">(</span>tz <span class="op">=</span> <span class="st">"Europe/Copenhagen"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">water.shape</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/actel/man/loadShape.html" class="external-link">loadShape</a></span><span class="op">(</span>shape <span class="op">=</span> <span class="st">"my_study_area.shp"</span>, size <span class="op">=</span> <span class="fl">0.0001</span><span class="op">)</span>  </span>
<span><span class="va">water.transition</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/actel/man/transitionLayer.html" class="external-link">transitionLayer</a></span><span class="op">(</span><span class="va">water.shape</span>, directions <span class="op">=</span> <span class="fl">16</span><span class="op">)</span></span>
<span></span>
<span><span class="va">rsp.results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/runRSP.html">runRSP</a></span><span class="op">(</span>input <span class="op">=</span> <span class="va">filtered_data</span>, t.layer <span class="op">=</span> <span class="va">water.transition</span>, coord.x <span class="op">=</span> <span class="st">"Longitude"</span>, coord.y <span class="op">=</span> <span class="st">"Latitude"</span><span class="op">)</span></span></code></pre>
<dl>
<dt>Note:</dt>
<dd>
<code>coord.x</code> and <code>coord.y</code> must be the column names
containing the coordinates in the spatial data frame.
</dd>
</dl>
<p>The <strong>detection ranges</strong> of each listening station are
also taken into account in the <code><a href="../reference/runRSP.html">runRSP()</a></code>. These will be used
as the location errors for the dBBMM when calculating UD areas. A
<strong>Range column</strong> can be included in the <strong>spatial.csv
file</strong> for specifying the detection ranges (in metres) for each
acoustic station if these are known. If the ‘Range’ column is not found,
a default detection range of 500 m is automatically considered for each
receiver with the warning:</p>
<pre><code>Warning: Could not find a 'Range' column in the spatial data; assuming a range of 500 metres for each receiver.</code></pre>
<dl>
<dt>Note:</dt>
<dd>
The ‘Range’ column must already be present in the spatial.csv file when
you run the <code><a href="https://rdrr.io/pkg/actel/man/explore.html" class="external-link">explore()</a></code> function for it to be incorporated in
the analysis.
</dd>
</dl>
<p>There is some uncertainty regarding the trajectory taken while
animals move between a pair of consecutive acoustic detections. This
uncertainty increases proportionally to the time taken to go from one
place to another. By default, consecutive detections separated by more
than <strong>24 hours</strong> will be broken by the
<code><a href="../reference/runRSP.html">runRSP()</a></code> into separate ‘tracks’ (defined by the
<code>max.time = 24</code> argument, in hours). This avoids the
estimation of unrealistic behaviour when the animals do not get detected
in any array for exceedingly long periods of time. Detections that occur
isolated (e.g. more than 24-h before or after any other detection) are
automatically excluded from analysis. The <code><a href="../reference/runRSP.html">runRSP()</a></code> will
return the percentage of raw detections that can be used for refining
the shortest paths when the analysis is finished:</p>
<pre><code>M: Percentage of detections valid for RSP: 99.8%</code></pre>
<p>Pairs of detections can occur either at the <strong>same
station</strong> or at <strong>different stations</strong>. For
consecutive detections on different stations, estimated positions are
added at intervals of approximately a given <code>distance</code>
argument in metres (250 m by default). Note that the added positions
will be centered relative to the total distance, e.g., if the distance
between two stations is 600 m, then two RSP positions will be added; one
at 200 m and one at 400 m. On the other hand, if an animal is detected
consecutively at the same station (with a time interval greater than the
stipulated at the <code>time.step</code> argument), then estimated
positions are added at that station location, over intervals of
approximately <code>time.step</code> minutes. E.g. if a fish is detected
at a station twice with a 22 minute interval, and <code>time.step</code>
is set to 10, two estimated positions will be included.</p>
<p>While moving away from the first detection, the <strong>position
errors</strong> gradually increase for each estimated position. This
increase defaults to a 5% rate of the <code>distance</code> argument,
but it can be specified in metres using <code>er.ad</code>. When the
animal reaches half of the elapsed time/distance between the first and
the second detection, the errors of estimated positions now gradually
decrease as it approaches the second station where it got detected. This
principle is used for both pairs of detections on different stations,
and for consecutive detections at the same station:</p>
<div class="figure">
<img src="Example_detection.png" id="id" class="class" style="width:60.0%;height:60.0%" alt=""><p class="caption"><strong>A:</strong> consecutive detections on the
same station; <strong>B:</strong> consecutive detections on different
stations.</p>
</div>
<p><br></p>
<p><img src="RSP_index.png" id="id" class="class" style="width:95.0%;height:95.0%"></p>
<p>Note how the <strong>distances between consecutive RSP
positions</strong> (points) vary around the <code>distance</code>
argument (250 m by default) as they depend on the estuary shape and the
shortest distances between stations. It is also possible to observe how
the <strong>errors of the estimated positions</strong> (lines) gradually
increase/decrease as the animals move between stations.</p>
<p><br></p>
<p>The <strong>dynamic Brownian Bridge Movement Model</strong> accounts
for the <strong>speed</strong> at which animals move between consecutive
detections to <strong>expand/contract the UD areas</strong>.
Consequently, depending on your array configuration, estuary shape and
species being tracked, you may find useful to adjust the
<code>distance</code> and <code>time.lapse</code> arguments for
recreating the most plausible movement patterns of the monitored
animals.</p>
<p><br></p>
<p><strong>Note:</strong> If your tracked animals were recaptured during
the monitoring period you may want to provide these aditional locations
to <code><a href="../reference/runRSP.html">runRSP()</a></code>. To do so, please provide the following dataset
named <strong>recaptures.csv</strong>:</p>
<table style="width:100%;" class="table">
<colgroup>
<col width="25%">
<col width="9%">
<col width="13%">
<col width="13%">
<col width="13%">
<col width="13%">
<col width="12%">
</colgroup>
<thead><tr class="header">
<th align="left">Recapture.date</th>
<th align="right">Signal</th>
<th align="right">Length_mm</th>
<th align="right">Weight_kg</th>
<th align="right">Latitude</th>
<th align="right">Longitude</th>
<th align="right">Returned</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">2014-10-17 17:10:34</td>
<td align="right">485</td>
<td align="right">481</td>
<td align="right">2.1</td>
<td align="right">-33.13151</td>
<td align="right">151.5974</td>
<td align="right">TRUE</td>
</tr>
<tr class="even">
<td align="left">2014-10-31 18:02:39</td>
<td align="right">485</td>
<td align="right">481</td>
<td align="right">2.1</td>
<td align="right">-33.08676</td>
<td align="right">151.6002</td>
<td align="right">TRUE</td>
</tr>
</tbody>
</table>
<p>Please make sure you provide the <strong>Recapture.date</strong>
timezone at local time. To include the respective recapture locations in
the estimations of refined shortest paths, make sure to set
<code>recaptures = TRUE</code> in <code><a href="../reference/runRSP.html">runRSP()</a></code>. The recapture
locations will be used to start a <strong>new RSP track</strong>
begining at the recapture location:</p>
<table class="table">
<colgroup>
<col width="23%">
<col width="12%">
<col width="16%">
<col width="12%">
<col width="12%">
<col width="12%">
<col width="11%">
</colgroup>
<thead><tr class="header">
<th align="left">Timestamp</th>
<th align="right">Receiver</th>
<th align="right">Transmitter</th>
<th align="right">Longitude</th>
<th align="right">Latitude</th>
<th align="right">Position</th>
<th align="right">Track</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">2014-10-10 10:23:24</td>
<td align="right">115409</td>
<td align="right">A69-9004-485</td>
<td align="right">151.6093</td>
<td align="right">-33.09295</td>
<td align="right">Receiver</td>
<td align="right">Track_01</td>
</tr>
<tr class="even">
<td align="left">2014-10-10 10:38:15</td>
<td align="right">115409</td>
<td align="right">A69-9004-485</td>
<td align="right">151.6093</td>
<td align="right">-33.09295</td>
<td align="right">Receiver</td>
<td align="right">Track_01</td>
</tr>
<tr class="odd">
<td align="left">2014-10-17 17:10:34</td>
<td align="right">NA</td>
<td align="right">A69-9004-485</td>
<td align="right">151.5974</td>
<td align="right">-33.13151</td>
<td align="right">Recapture</td>
<td align="right">Track_02</td>
</tr>
<tr class="even">
<td align="left">2014-10-17 18:00:22</td>
<td align="right">NA</td>
<td align="right">A69-9004-485</td>
<td align="right">151.5992</td>
<td align="right">-33.12971</td>
<td align="right">RSP</td>
<td align="right">Track_02</td>
</tr>
<tr class="odd">
<td align="left">2014-10-17 18:50:11</td>
<td align="right">NA</td>
<td align="right">A69-9004-485</td>
<td align="right">151.6008</td>
<td align="right">-33.12811</td>
<td align="right">RSP</td>
<td align="right">Track_02</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="exploring-the-runrsp-results">2.1. Exploring the runRSP results<a class="anchor" aria-label="anchor" href="#exploring-the-runrsp-results"></a>
</h2>
<p>Here are some examples of the <code><a href="../reference/runRSP.html">runRSP()</a></code> output:</p>
<ol style="list-style-type: decimal">
<li>In the <code>$tracks</code> object you can find metadata, stored
individually for each tracked transmitter, on the <strong>identified
tracks</strong> (Track) and their corresponding <strong>number of total
acoustic detections</strong> (original.n), <strong>duration in
hours</strong> (Timespan), and their corresponding
<strong>validity</strong> (Valid):</li>
</ol>
<table class="table">
<colgroup>
<col width="10%">
<col width="13%">
<col width="26%">
<col width="26%">
<col width="15%">
<col width="7%">
</colgroup>
<thead><tr class="header">
<th align="left">Track</th>
<th align="right">original.n</th>
<th align="right">First.time</th>
<th align="right">Last.time</th>
<th align="right">Timespan</th>
<th align="right">Valid</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Track_01</td>
<td align="right">3</td>
<td align="right">2018-02-11 20:27:37</td>
<td align="right">2018-02-11 20:29:35</td>
<td align="right">0.03 hours</td>
<td align="right">TRUE</td>
</tr>
<tr class="even">
<td align="left">Track_02</td>
<td align="right">2</td>
<td align="right">2018-02-20 10:54:54</td>
<td align="right">2018-02-20 10:56:07</td>
<td align="right">0.02 hours</td>
<td align="right">TRUE</td>
</tr>
<tr class="odd">
<td align="left">Track_03</td>
<td align="right">103</td>
<td align="right">2018-03-07 00:41:10</td>
<td align="right">2018-03-07 08:20:02</td>
<td align="right">7.64 hours</td>
<td align="right">TRUE</td>
</tr>
<tr class="even">
<td align="left">Track_04</td>
<td align="right">22</td>
<td align="right">2018-03-17 13:07:43</td>
<td align="right">2018-03-17 13:36:42</td>
<td align="right">0.48 hours</td>
<td align="right">TRUE</td>
</tr>
<tr class="odd">
<td align="left">Track_05</td>
<td align="right">1</td>
<td align="right">2018-04-04 12:47:05</td>
<td align="right">2018-04-04 12:47:05</td>
<td align="right">0.00 hours</td>
<td align="right">FALSE</td>
</tr>
<tr class="even">
<td align="left">Track_06</td>
<td align="right">2</td>
<td align="right">2018-04-18 08:41:11</td>
<td align="right">2018-04-18 08:48:47</td>
<td align="right">0.12 hours</td>
<td align="right">TRUE</td>
</tr>
<tr class="odd">
<td align="left">Track_07</td>
<td align="right">3</td>
<td align="right">2018-04-20 09:30:02</td>
<td align="right">2018-04-20 09:33:55</td>
<td align="right">0.06 hours</td>
<td align="right">TRUE</td>
</tr>
<tr class="even">
<td align="left">Track_08</td>
<td align="right">7</td>
<td align="right">2018-04-23 05:10:47</td>
<td align="right">2018-04-23 08:43:45</td>
<td align="right">3.54 hours</td>
<td align="right">TRUE</td>
</tr>
<tr class="odd">
<td align="left">Track_09</td>
<td align="right">22</td>
<td align="right">2018-04-24 11:40:56</td>
<td align="right">2018-04-26 01:00:13</td>
<td align="right">37.32 hours</td>
<td align="right">TRUE</td>
</tr>
<tr class="even">
<td align="left">Track_10</td>
<td align="right">5</td>
<td align="right">2018-08-20 11:56:47</td>
<td align="right">2018-08-20 12:06:51</td>
<td align="right">0.16 hours</td>
<td align="right">TRUE</td>
</tr>
<tr class="odd">
<td align="left">Track_11</td>
<td align="right">2</td>
<td align="right">2018-08-21 14:33:30</td>
<td align="right">2018-08-21 14:42:52</td>
<td align="right">0.156 hours</td>
<td align="right">TRUE</td>
</tr>
<tr class="even">
<td align="left">Track_12</td>
<td align="right">2</td>
<td align="right">2018-08-22 16:04:24</td>
<td align="right">2018-08-22 16:05:44</td>
<td align="right">0.02 hours</td>
<td align="right">TRUE</td>
</tr>
<tr class="odd">
<td align="left">Track_13</td>
<td align="right">1</td>
<td align="right">2018-08-23 19:21:20</td>
<td align="right">2018-08-23 19:21:20</td>
<td align="right">0.00 hours</td>
<td align="right">FALSE</td>
</tr>
</tbody>
</table>
<p>Only the <strong>valid tracks</strong> are used by
<strong>RSP</strong> to recreate the shortest in-water paths of tracked
animals. The tracking data can be retrieved from the list
<code>$detections</code> in which data is saved individually for each
transmitter.</p>
<p>The RSP data can be found in the <code>$detections</code> object,
stored individually for each tracked animal. There are <strong>two main
types of RSP interpolation</strong>:</p>
<ol start="2" style="list-style-type: decimal">
<li>For consecutive detections on <strong>the same
station</strong>:</li>
</ol>
<table class="table">
<colgroup>
<col width="20%">
<col width="9%">
<col width="14%">
<col width="12%">
<col width="6%">
<col width="10%">
<col width="9%">
<col width="9%">
<col width="8%">
</colgroup>
<thead><tr class="header">
<th align="left">Timestamp</th>
<th align="right">Receiver</th>
<th align="right">Standard.name</th>
<th align="right">Transmitter</th>
<th align="right">Error</th>
<th align="right">Longitude</th>
<th align="right">Latitude</th>
<th align="right">Position</th>
<th align="right">Track</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">2018-03-07 00:43:49</td>
<td align="right">125449</td>
<td align="right">St.1</td>
<td align="right">R64K-4075</td>
<td align="right">500</td>
<td align="right">9.380188</td>
<td align="right">56.5716</td>
<td align="right">Receiver</td>
<td align="right">Track_3</td>
</tr>
<tr class="even">
<td align="left">2018-03-07 00:53:07</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">R64K-4075</td>
<td align="right">512.5</td>
<td align="right">9.380188</td>
<td align="right">56.5716</td>
<td align="right">RSP</td>
<td align="right">Track_3</td>
</tr>
<tr class="odd">
<td align="left">2018-03-07 01:02:26</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">R64K-4075</td>
<td align="right">512.5</td>
<td align="right">9.380188</td>
<td align="right">56.5716</td>
<td align="right">RSP</td>
<td align="right">Track_3</td>
</tr>
<tr class="even">
<td align="left">2018-03-07 01:11:45</td>
<td align="right">125449</td>
<td align="right">St.1</td>
<td align="right">R64K-4075</td>
<td align="right">500</td>
<td align="right">9.380188</td>
<td align="right">56.5716</td>
<td align="right">Receiver</td>
<td align="right">Track_3</td>
</tr>
</tbody>
</table>
<dl>
<dt>Note:</dt>
<dd>
Various columns were omitted in this display for simplicity.
</dd>
</dl>
<p>The <strong>Position</strong> column in this dataset identifies the
two consecutive acoustic detections (<code>Receiver</code>) from this
animal. We can notice that they occurred on the same
<strong>Station</strong> (Standard.name column); the first on
<code>2018-03-07 00:43:49</code> and the second on
<code>2018-03-07 01:11:45</code> (slightly less than 30 minutes from
each other). Because this time difference is longer than the default
<code>time.lapse</code> (10 minutes), the <code><a href="../reference/runRSP.html">runRSP()</a></code>
estimated the intermediate positions (RSP) by repeating the station’s
<strong>Longitude</strong> and <strong>Latitude</strong> and changing
the <strong>Error</strong> parameter at a rate of 5% from the default
<code>distance</code> argument (250 metres = 12.5 metres). Notice how
the elapsed time was distributed evenly between the position
intervals.</p>
<ol start="3" style="list-style-type: decimal">
<li>For consecutive detections on <strong>different
stations</strong>:</li>
</ol>
<table style="width:100%;" class="table">
<colgroup>
<col width="20%">
<col width="9%">
<col width="14%">
<col width="13%">
<col width="6%">
<col width="10%">
<col width="9%">
<col width="9%">
<col width="8%">
</colgroup>
<thead><tr class="header">
<th align="left">Timestamp</th>
<th align="right">Receiver</th>
<th align="right">Standard.name</th>
<th align="right">Transmitter</th>
<th align="right">Error</th>
<th align="right">Longitude</th>
<th align="right">Latitude</th>
<th align="right">Position</th>
<th align="right">Track</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">2018-04-27 05:27:10</td>
<td align="right">100474</td>
<td align="right">St.1</td>
<td align="right">R64K-4125</td>
<td align="right">500</td>
<td align="right">9.921725</td>
<td align="right">57.05595</td>
<td align="right">Receiver</td>
<td align="right">Track_5</td>
</tr>
<tr class="even">
<td align="left">2018-04-27 05:35:17</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">R64K-4125</td>
<td align="right">512.5</td>
<td align="right">9.928500</td>
<td align="right">57.05450</td>
<td align="right">RSP</td>
<td align="right">Track_5</td>
</tr>
<tr class="odd">
<td align="left">2018-04-27 05:43:24</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">R64K-4125</td>
<td align="right">525</td>
<td align="right">9.935500</td>
<td align="right">57.05350</td>
<td align="right">RSP</td>
<td align="right">Track_5</td>
</tr>
<tr class="even">
<td align="left">2018-04-27 05:51:32</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">R64K-4125</td>
<td align="right">537.5</td>
<td align="right">9.943500</td>
<td align="right">57.05450</td>
<td align="right">RSP</td>
<td align="right">Track_5</td>
</tr>
<tr class="odd">
<td align="left">2018-04-27 05:59:39</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">R64K-4125</td>
<td align="right">550</td>
<td align="right">9.949500</td>
<td align="right">57.05650</td>
<td align="right">RSP</td>
<td align="right">Track_5</td>
</tr>
<tr class="even">
<td align="left">2018-04-27 06:07:47</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">R64K-4125</td>
<td align="right">562.5</td>
<td align="right">9.955500</td>
<td align="right">57.05850</td>
<td align="right">RSP</td>
<td align="right">Track_5</td>
</tr>
<tr class="odd">
<td align="left">2018-04-27 06:15:54</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">R64K-4125</td>
<td align="right">575</td>
<td align="right">9.960500</td>
<td align="right">57.06150</td>
<td align="right">RSP</td>
<td align="right">Track_5</td>
</tr>
<tr class="even">
<td align="left">2018-04-27 06:24:01</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">R64K-4125</td>
<td align="right">562.5</td>
<td align="right">9.964500</td>
<td align="right">57.06550</td>
<td align="right">RSP</td>
<td align="right">Track_5</td>
</tr>
<tr class="odd">
<td align="left">2018-04-27 06:32:09</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">R64K-4125</td>
<td align="right">550</td>
<td align="right">9.968500</td>
<td align="right">57.06850</td>
<td align="right">RSP</td>
<td align="right">Track_5</td>
</tr>
<tr class="even">
<td align="left">2018-04-27 06:40:16</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">R64K-4125</td>
<td align="right">537.5</td>
<td align="right">9.975500</td>
<td align="right">57.07050</td>
<td align="right">RSP</td>
<td align="right">Track_5</td>
</tr>
<tr class="odd">
<td align="left">2018-04-27 06:48:24</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">R64K-4125</td>
<td align="right">525</td>
<td align="right">9.981500</td>
<td align="right">57.07250</td>
<td align="right">RSP</td>
<td align="right">Track_5</td>
</tr>
<tr class="even">
<td align="left">2018-04-27 06:56:31</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">R64K-4125</td>
<td align="right">512.5</td>
<td align="right">9.986500</td>
<td align="right">57.07450</td>
<td align="right">RSP</td>
<td align="right">Track_5</td>
</tr>
<tr class="odd">
<td align="left">2018-04-27 07:04:39</td>
<td align="right">107527</td>
<td align="right">St.2</td>
<td align="right">R64K-4125</td>
<td align="right">500</td>
<td align="right">9.992500</td>
<td align="right">57.07650</td>
<td align="right">Receiver</td>
<td align="right">Track_5</td>
</tr>
</tbody>
</table>
<dl>
<dt>Note:</dt>
<dd>
Various columns were omitted in this display for simplicity.
</dd>
</dl>
<p>Here the animal was detected first at the <strong>station</strong>
<code>St.1</code> on <code>2018-04-27 05:27:10</code>, and then at the
<strong>station</strong> <code>St.2</code> on
<code>2018-04-27 07:04:39</code>. The <code><a href="../reference/runRSP.html">runRSP()</a></code> now
calculated the shortest in-water path between stations, and we can see
how the <strong>Error</strong> of added locations increased up to
half-way, (575 metres on <code>2018-04-27 06:15:54</code>), and then
decreased back to 500 as the track approached the second station.</p>
<p><br></p>
<p>RSP also has a <code><a href="../reference/plotDensities.html">plotDensities()</a></code> function, which allows
you to investigate the distribution of elapsed time between consecutive
acoustic detections:</p>
<p><img src="densityRSP.png" id="id" class="class" width="650"></p>
<p>You can set a <strong>group</strong> argument to generate a density
plot for a particular group of interest. By default all monitored groups
are used.</p>
</div>
<div class="section level2">
<h2 id="visualizing-the-runrsp-outputs">2.2. Visualizing the runRSP outputs<a class="anchor" aria-label="anchor" href="#visualizing-the-runrsp-outputs"></a>
</h2>
<p>We can use <code><a href="../reference/plotTracks.html">plotTracks()</a></code> to plot any of the tracks from
the <code><a href="../reference/runRSP.html">runRSP()</a></code> output:</p>
<pre><code><span><span class="fu"><a href="../reference/plotTracks.html">plotTracks</a></span><span class="op">(</span><span class="va">rsp.data1</span>, base.raster <span class="op">=</span> <span class="va">water.shape1</span>, type <span class="op">=</span> <span class="st">"both"</span>, tag <span class="op">=</span> <span class="st">"R64K-4125"</span>, track <span class="op">=</span> <span class="st">"Track_3"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/plotTracks.html">plotTracks</a></span><span class="op">(</span><span class="va">rsp.data1</span>, base.raster <span class="op">=</span> <span class="va">water.shape1</span>, type <span class="op">=</span> <span class="st">"both"</span>, tag <span class="op">=</span> <span class="st">"R64K-4125"</span>, track <span class="op">=</span> <span class="st">"Track_3"</span>, land.col <span class="op">=</span> <span class="st">"darkgreen"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/plotTracks.html">plotTracks</a></span><span class="op">(</span><span class="va">rsp.data2</span>, base.raster <span class="op">=</span> <span class="va">water.shape2</span>, type <span class="op">=</span> <span class="st">"both"</span>, tag <span class="op">=</span> <span class="st">"R64K-4545"</span>, track <span class="op">=</span> <span class="st">"Track_9"</span><span class="op">)</span></span></code></pre>
<p><img src="plotTrack2.png" id="id" class="class" width="550"></p>
<p>You can use the function <code><a href="../reference/suggestSize.html">suggestSize()</a></code> in your base
raster (shapefile) file to get suggested dimensions for a projected
plot, and easily change the colour of the land mass using
<code>land.col</code>. The function <code><a href="../reference/addStations.html">addStations()</a></code> can be
used to <strong>add the station locations</strong> to your plot.:</p>
<div class="figure">
<img src="plotTrack3.png" id="id" class="class" width="550" alt=""><p class="caption">You can easily change the colour of the land mass
using <code>land.col</code>.</p>
</div>
<p><img src="plotTrack4.png" id="id" class="class" style="width:100.0%"></p>
<p>If the animal you want to plot was recaptured and you want to include
the recapture locations, you can use <code><a href="../reference/addRecaptures.html">addRecaptures()</a></code>:</p>
<pre><code><span><span class="fu"><a href="../reference/plotTracks.html">plotTracks</a></span><span class="op">(</span>input <span class="op">=</span> <span class="va">rsp.data</span>, base.raster <span class="op">=</span> <span class="va">water</span>, tag <span class="op">=</span> <span class="st">"A69-9004-485"</span>, track <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/addStations.html">addStations</a></span><span class="op">(</span><span class="va">rsp.data</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="../reference/addRecaptures.html">addRecaptures</a></span><span class="op">(</span>Signal <span class="op">=</span> <span class="st">"485"</span><span class="op">)</span></span></code></pre>
<p><img src="addRecaptures.png" id="id" class="class" style="width:75.0%"></p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="distances-travelled-exclusively-in-water">2.3. Distances travelled exclusively in-water<a class="anchor" aria-label="anchor" href="#distances-travelled-exclusively-in-water"></a>
</h2>
<p>The <code><a href="../reference/getDistances.html">getDistances()</a></code> function can be used to obtain the
distances travelled (in metres) during each RSP track. The column
<code>Loc.type</code> shows you whether the distances were calculated
only using the station locations or if they were calculated also
accounting for the interpolated positions (added by RSP).</p>
<pre><code><span><span class="va">dist.table</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getDistances.html">getDistances</a></span><span class="op">(</span><span class="va">rsp.results</span><span class="op">)</span></span>
<span><span class="va">dist.table</span></span></code></pre>
<table class="table">
<thead><tr class="header">
<th align="left">Animal.tracked</th>
<th align="right">Track</th>
<th align="right">Day.n</th>
<th align="right">Loc.type</th>
<th align="right">Dist.travel</th>
<th align="right">Group</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">R64K-4075</td>
<td align="right">Track_09</td>
<td align="right">3</td>
<td align="right">Receiver</td>
<td align="right">66876.7892</td>
<td align="right">R64K-4075</td>
</tr>
<tr class="even">
<td align="left">R64K-4075</td>
<td align="right">Track_09</td>
<td align="right">3</td>
<td align="right">RSP</td>
<td align="right">72662.5359</td>
<td align="right">R64K-4075</td>
</tr>
<tr class="odd">
<td align="left">R64K-4125</td>
<td align="right">Track_02</td>
<td align="right">3</td>
<td align="right">Receiver</td>
<td align="right">13680.7627</td>
<td align="right">R64K-4125</td>
</tr>
<tr class="even">
<td align="left">R64K-4125</td>
<td align="right">Track_02</td>
<td align="right">3</td>
<td align="right">RSP</td>
<td align="right">16797.9609</td>
<td align="right">R64K-4125</td>
</tr>
<tr class="odd">
<td align="left">R64K-4125</td>
<td align="right">Track_03</td>
<td align="right">4</td>
<td align="right">Receiver</td>
<td align="right">182882.4870</td>
<td align="right">R64K-4125</td>
</tr>
<tr class="even">
<td align="left">R64K-4125</td>
<td align="right">Track_03</td>
<td align="right">4</td>
<td align="right">RSP</td>
<td align="right">206155.7192</td>
<td align="right">R64K-4125</td>
</tr>
<tr class="odd">
<td align="left">R64K-4125</td>
<td align="right">Track_04</td>
<td align="right">2</td>
<td align="right">Receiver</td>
<td align="right">25470.6122</td>
<td align="right">R64K-4125</td>
</tr>
<tr class="even">
<td align="left">R64K-4125</td>
<td align="right">Track_04</td>
<td align="right">2</td>
<td align="right">RSP</td>
<td align="right">30076.9265</td>
<td align="right">R64K-4125</td>
</tr>
<tr class="odd">
<td align="left">R64K-4125</td>
<td align="right">Track_06</td>
<td align="right">1</td>
<td align="right">Receiver</td>
<td align="right">2921.3768</td>
<td align="right">R64K-4125</td>
</tr>
<tr class="even">
<td align="left">R64K-4125</td>
<td align="right">Track_06</td>
<td align="right">1</td>
<td align="right">RSP</td>
<td align="right">2940.6700</td>
<td align="right">R64K-4125</td>
</tr>
<tr class="odd">
<td align="left">R64K-4128</td>
<td align="right">Track_06</td>
<td align="right">2</td>
<td align="right">Receiver</td>
<td align="right">29871.3633</td>
<td align="right">R64K-4128</td>
</tr>
<tr class="even">
<td align="left">R64K-4128</td>
<td align="right">Track_06</td>
<td align="right">2</td>
<td align="right">RSP</td>
<td align="right">33987.0067</td>
<td align="right">R64K-4128</td>
</tr>
<tr class="odd">
<td align="left">R64K-4128</td>
<td align="right">Track_07</td>
<td align="right">2</td>
<td align="right">Receiver</td>
<td align="right">31824.9768</td>
<td align="right">R64K-4128</td>
</tr>
<tr class="even">
<td align="left">R64K-4128</td>
<td align="right">Track_07</td>
<td align="right">2</td>
<td align="right">RSP</td>
<td align="right">33987.0067</td>
<td align="right">R64K-4128</td>
</tr>
<tr class="odd">
<td align="left">R64K-4128</td>
<td align="right">Track_09</td>
<td align="right">1</td>
<td align="right">Receiver</td>
<td align="right">32108.2706</td>
<td align="right">R64K-4128</td>
</tr>
<tr class="even">
<td align="left">R64K-4128</td>
<td align="right">Track_09</td>
<td align="right">1</td>
<td align="right">RSP</td>
<td align="right">37689.2695</td>
<td align="right">R64K-4128</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>We can use <code><a href="../reference/plotDistances.html">plotDistances()</a></code> to compare the total
distances travelled by each animal calculated using only the station
locations and also including the RSP estimations:</p>
<pre><code><span><span class="fu"><a href="../reference/plotDistances.html">plotDistances</a></span><span class="op">(</span><span class="va">dist.table</span><span class="op">)</span></span></code></pre>
<center>
<p><img src="distanceRSP.png" id="id" class="class" width="550"></p>
</center>
<dl>
<dt>Note:</dt>
<dd>
You can view the data for a single group by using the argument
<code>group</code>.
</dd>
</dl>
<p><br></p>
<pre><code><span><span class="fu"><a href="../reference/plotDistances.html">plotDistances</a></span><span class="op">(</span><span class="va">dist.table</span>, compare <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre>
<center>
<p><img src="distanceRSP2.png" id="id" class="class" width="550"></p>
</center>
<dl>
<dt>Note:</dt>
<dd>
If you set <code>compare = FALSE</code>, only the RSP total distances
travelled will be returned.
</dd>
</dl>
<p><a href="a-3_dBBMM.html">Proceed to Calculating utilization
distribution</a></p>
<p><a href="#">Back to top.</a></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Yuri Niella, Hugo Flávio.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
